# ============================================================================
# Chezmoi Ignore Patterns
# ============================================================================
# https://www.chezmoi.io/reference/special-files-and-directories/chezmoiignore/
#
# IMPORTANT: This file uses Go text/template syntax for conditionals
# Validation: Run `chezmoi execute-template < .chezmoiignore` to test syntax
#
# PLATFORM-SPECIFIC FILE STRATEGY:
# ================================
# For platform-specific files that should only be applied on certain OS:
# 
# 1. Files with platform in name (e.g., config.linux.toml, config.windows.toml):
#    - Use .chezmoiignore with OS conditionals to exclude on wrong platforms
#    - Example: Exclude config.linux.toml on Windows, config.windows.toml on Linux
#
# 2. Shell-specific files (e.g., .bashrc, .zshrc, fzf.bash):
#    - Exclude entire Unix shell ecosystem on Windows
#    - Exclude PowerShell ecosystem on Unix/Linux
#
# 3. Cross-platform files with platform-specific content:
#    - Use .tmpl extension with {{ if eq .chezmoi.os "windows" }} guards
#    - Example: Microsoft.PowerShell_profile.ps1.tmpl
#
# 4. Directory-level exclusions:
#    - Use ** glob patterns for entire directories (e.g., .config/zsh/**)
#    - More efficient than per-file exclusions
#
# 5. Remote machine exclusions:
#    - GUI applications and heavy tools excluded on remote machines
#    - Minimal installs further reduce configs deployed
#
# ============================================================================
# Repository Files (Never Deployed to Home)
# ============================================================================

# Development and documentation files (never apply to home directory)
README.md
LICENSE
*.Tests.ps1
*.example
WARP.md
IMPLEMENTATION-PROGRESS.md
INSTALL-GUIDE.md
SECRETS.md
REMOTE.md
ARCHITECTURE.md
CONTRIBUTING.md

# Bootstrap scripts (stored in repo root, not applied to home)
bootstrap.ps1
setup.sh

# Package manager lists (used by bootstrap/install scripts, not applied to home)
scoop-packages.json
winget-packages.json
Brewfile
packages/

# Git metadata
.git/
.gitignore
.gitattributes

# Editor artifacts
.vscode/
.idea/
*.swp
*.swo
*~

{{- /* Platform-specific exclusions */ -}}

{{- if eq .chezmoi.os "windows" }}
# Exclude Unix-specific files on Windows

# Unix shell configs
.config/zsh/**
.cache/zsh/**
.zshrc
.zshrc.d/
.zshenv
.bashrc
.bash_profile
.profile
.p10k.zsh

# Unix-specific scripts
*.sh
.chezmoiscripts/**/run_*.sh.tmpl
.chezmoiscripts/**/run_*.sh

# Unix config directories
.config/systemd/
.config/i3/
.config/sway/
.config/hyprland/

# Unix-specific dotfiles
.xinitrc
.Xresources
.tmux.conf

# macOS-specific configs (iTerm2, Homebrew, etc.)
.config/iterm2/**
.config/karabiner/
.config/hammerspoon/
.config/homebrew/**
Library/

# Linux-specific configs
.config/mise/config.linux.toml
.config/fzf/fzf.bash
.config/mackup/**
.lde.yml

{{- else }}
# Exclude Windows-specific files on Unix

# Windows PowerShell
Documents/
AppData/

# Windows-specific scripts
*.ps1
.chezmoiscripts/**/run_*.ps1.tmpl
.chezmoiscripts/**/run_*.ps1

# Windows configs
.wslconfig
.config/mise/config.windows.toml

# Windows Terminal
AppData/Local/Packages/Microsoft.WindowsTerminal_*/

{{- end }}
{{- /* WSL-specific exclusions */ -}}
{{- /* .wslconfig is managed on Windows for WSL2 configuration */ -}}

{{- /* macOS-specific exclusions */ -}}
{{- if ne .chezmoi.os "darwin" }}
# Exclude macOS-specific files on non-macOS
.config/karabiner/
.config/hammerspoon/
Library/
{{- end }}

{{- /* Remote machine exclusions */ -}}
{{- if .is_remote }}
# Exclude on remote machines (GUI apps, heavy tools)
.config/wezterm/**
.config/warp/**
.config/alacritty/**
.config/kitty/**
{{- if .remote_minimal }}
# Additional exclusions for minimal remote installs
.config/btop/**
.config/bottom/**
{{- end }}
{{- end }}

{{- /* Package feature flag exclusions */ -}}
{{- /* Files for packages controlled by feature flags in .chezmoidata.yaml */ -}}

{{- if not .package_features.rust }}
# Rust package files
.config/zsh/.zshrc.d/70-rust.zsh
.cache/zsh/completions/_rustc
{{- end }}

{{- if not .package_features.golang }}
# Golang package files
.config/zsh/.zshrc.d/70-golang.zsh
{{- end }}

{{- if not .package_features.python }}
# Python package files
.config/zsh/.zshrc.d/70-python.zsh
{{- end }}

{{- if not .package_features.ruby }}
# Ruby package files
.config/zsh/.zshrc.d/70-ruby.zsh
{{- end }}

{{- if not .package_features.lua }}
# Lua package files
.config/zsh/.zshrc.d/70-lua.zsh
{{- end }}

{{- if not .package_features.node }}
# Node.js package files
.config/zsh/.zshrc.d/70-node.zsh
{{- end }}

{{- if not .package_features.perl }}
# Perl package files
.config/perl/**
.perltidyrc
.cache/zsh/completions/_cpanm
.config/zsh/.zshrc.d/70-perl.zsh
{{- end }}

{{- if not .package_features.php }}
# PHP package files
.config/php/**
.config/zsh/.zshrc.d/70-php.zsh
{{- end }}

{{- if not .package_features.asdf }}
# ASDF package files (deprecated - replaced by mise)
.config/asdf/**
.asdfrc
.tool-versions
.config/zsh/.zshrc.d/50-asdf.zsh
{{- end }}

{{- if not .package_features.nvm }}
# NVM package files (deprecated - replaced by mise)
.config/nvm/**
.config/zsh/.zshrc.d/70-nvm.zsh
{{- end }}

{{- if not .package_features.arduino }}
# Arduino package files
.local/share/arduino/**
.config/zsh/.zshrc.d/70-arduino.zsh
{{- end }}

{{- if not .package_features.glow }}
# Glow package files
.config/glow/**
.config/zsh/.zshrc.d/90-glow.zsh
{{- end }}

{{- if not .package_features.tinted_theming }}
# Tinted Theming package files
.config/tinted-theming/**
.local/share/tinted-theming/**
.config/zsh/.zshrc.d/80-tinty.zsh
{{- end }}

{{- if not .package_features.thefuck }}
# Thefuck package files
.config/thefuck/**
.config/zsh/.zshrc.d/thefuck.zsh
{{- end }}

{{- if not .package_features.sqlite3 }}
# SQLite3 package files
.config/sqlite3/**
{{- end }}

{{- if not .package_features.vim }}
# Vim package files (separate from neovim)
.config/vim/**
.vimrc
{{- end }}

{{- if not .package_features.vivid }}
# Vivid package files
.config/vivid/**
{{- end }}

{{- if not .package_features.warp }}
# Warp package files
.config/warp/**
{{- end }}

{{- if not .package_features.homebrew }}
# Homebrew package files (bootstrap only, not actively managed)
.config/homebrew/**
.config/zsh/.zshrc.d/50-homebrew.zsh
{{- end }}

{{- if not .package_features.vagrant }}
# Vagrant package files
.cache/zsh/completions/_vagrant
.config/zsh/.zshrc.d/60-vagrant.zsh
{{- end }}
{{- end }}
extensions.json
keybindings.json
mcp.json
settings.json
tasks.json
