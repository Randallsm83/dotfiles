#!/usr/bin/env zsh

#TODO verify all vars/settings

# Python
# TODO: what are these?
export PYTHONUSERBASE="${XDG_DATA_HOME:-$HOME/.local/share}/python"
export PYTHONPYCACHEPREFIX="${XDG_CACHE_HOME:-$HOME/.cache}/python"
export PYTHONSTARTUP="${XDG_CONFIG_HOME:-$HOME/.config}/python/pythonrc"
if [[ ! -d "$PYTHONUSERBASE" ]]; then
    mkdir -p "$PYTHONUSERBASE" || { echo "Failed to create dir: $PYTHONUSERBASE" >&2; return 1; }
fi

# Pyenv
# export PYENV_ROOT="${XDG_DATA_HOME:-$HOME/.local/share}/pyenv"
# export PYENV_HOME="${XDG_DATA_HOME:-$HOME/.local/share}/pyenv"

# Node
export NPM_CONFIG_USERCONFIG="${XDG_CONFIG_HOME:-$HOME/.config}/npm/npmrc"
export NODE_REPL_HISTORY="${XDG_STATE_HOME:-$HOME/.local/state}/node/repl_history"
if [[ ! -d "$(dirname "$NPM_CONFIG_USERCONFIG")" ]]; then
    mkdir -p "$(dirname "$NPM_CONFIG_USERCONFIG")" || { echo "Failed to create dir for: $NPM_CONFIG_USERCONFIG" >&2; return 1; }
fi
if [[ ! -d "$(dirname "$NODE_REPL_HISTORY")" ]]; then
    mkdir -p "$(dirname "$NODE_REPL_HISTORY")" || { echo "Failed to create dir for: $NODE_REPL_HISTORY" >&2; return 1; }
fi

# NVM
# export NVM_LAZY_LOAD=true
# export NVM_COMPLETION=true
# export NVM_DIR="${XDG_DATA_HOME:-$HOME/.local/share}/nvm"
# export PATH="$NVM_DIR/bin:$PATH"

# Lua
# export LUAVER_DIR="${XDG_DATA_HOME:-$HOME/.local/share}/luaver"
# export PATH="$/bin:$PATH"

# GO
# export GOPATH="${XDG_DATA_HOME:-$HOME/.local/share}/go"
# export GOMODCACHE="${XDG_CACHE_HOME:-$HOME/.cache}/go/mod"
# export PATH="$GOPATH/bin:$PATH"

# Rust
# export RUSTUP_HOME="${XDG_DATA_HOME:-$HOME/.local/share}/rustup"
# export PATH="$RUSTUP_HOME/bin:$PATH"

# Ruby
# export RBENV_ROOT="${XDG_DATA_HOME:-$HOME/.local/share}/rbenv"
# export PATH="$RBENV_ROOT/bin:$PATH"

# -------------------------------------------------------------------------------------------------
# -*- mode: zsh; sh-indentation: 2; indent-tabs-mode: nil; sh-basic-offset: 2; -*-
# vim: ft=zsh sw=2 ts=2 et
# -------------------------------------------------------------------------------------------------
